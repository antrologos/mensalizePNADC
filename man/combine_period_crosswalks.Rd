% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/experimental-period-identification.R
\name{combine_period_crosswalks}
\alias{combine_period_crosswalks}
\title{Combine Strict and Experimental Period Crosswalks}
\usage{
combine_period_crosswalks(
  strict_crosswalk,
  experimental_crosswalk,
  priority = c("strict", "experimental"),
  verbose = TRUE
)
}
\arguments{
\item{strict_crosswalk}{data.table from \code{pnadc_identify_periods()}}

\item{experimental_crosswalk}{data.table from \code{pnadc_experimental_periods()}
with \code{include_derived = FALSE} (experimental columns only)}

\item{priority}{Character. Which source takes priority when both have assignments.
Default "strict" means strict determinations are never overwritten.
Use "experimental" to prefer experimental assignments (rarely needed).}

\item{verbose}{Logical. If TRUE, print summary of combined assignments.}
}
\value{
A combined crosswalk data.table with:
\itemize{
\item All columns from strict crosswalk
\item Experimental columns (ref_month_exp, etc.)
\item \code{probabilistic_assignment}: TRUE for rows where experimental
assignment was used to fill a gap
}
The combined crosswalk is ready for use with \code{pnadc_apply_periods()}.
}
\description{
Merges a strict crosswalk from \code{pnadc_identify_periods()} with an
experimental crosswalk from \code{pnadc_experimental_periods()}, filling
in undetermined periods from the strict crosswalk with experimental
assignments.
}
\details{
This function is useful when you want to:
\itemize{
\item Keep strict and experimental crosswalks separate
\item Apply different confidence thresholds to experimental assignments
\item Audit which assignments came from which source
}

If you just want experimental assignments integrated automatically, use
\code{pnadc_experimental_periods()} with \code{include_derived = TRUE}.
}
\examples{
\dontrun{
# Build strict crosswalk
strict <- pnadc_identify_periods(pnadc_data)

# Build experimental crosswalk (without derived columns)
experimental <- pnadc_experimental_periods(
  strict,
  pnadc_data,
  strategy = "probabilistic",
  confidence_threshold = 0.95,
  include_derived = FALSE
)

# Combine them
combined <- combine_period_crosswalks(strict, experimental)

# Use with calibration
result <- pnadc_apply_periods(pnadc_data, combined,
                              period = "month", calibrate = TRUE)
}

}
\seealso{
\code{\link{pnadc_identify_periods}}, \code{\link{pnadc_experimental_periods}}
}
